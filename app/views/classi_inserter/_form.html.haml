= simple_form_for [@cliente, ClassiInserter.new], class: "classi_inserter" do |f|
  = f.hidden_field  :cliente_id, value: @cliente.id
  = f.input :classe, as: :select, collection: 1..5, prompt: "inserisci classe", autofocus: true
  .more.hidden
    = f.input :sezioni, hint: "Inserisci le sezioni (a-z) senza spazi e senza ripetizioni.</br>Le sezioni inserite verranno convertite in maiuscolo"
    = f.input :nr_alunni, hint: "Inserisci il numero di alunni per sezione separati da spazio (es. 22 23 25) oppure il totale per classe"
  
    / questo sarebbe figo ma non riesco a mettere il filtro
    / = f.input :libro_ids, as: :check_boxes, collection: Libro.scolastico.all
    
    .control-group.collection_checkbox
      = hidden_field_tag "classi_inserter[libro_ids][]", nil
      %label.control-label Libri adottati
      .controls
        - Libro.scolastico.each do |libro|
          %label.checkbox.hidden{ data: { classe: "#{libro.classe}" } }
            = check_box_tag "classi_inserter[libro_ids][]", libro.id, false, id: dom_id(libro)
            = libro.titolo
      %br
    
    .form-actions
      = f.button :submit, label: "Salva"

